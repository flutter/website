<div class="catalog">
    {% for section in site.data.catalog.index %}
        {% if section.name contains include.category %}
            <div class="category-description"><p>{{section.description}}</p></div>
        {% endif %}
    {% endfor %}

    <ul>
        {% for category in site.data.catalog.index %}
            {% if category.name == include.category %}
                {% for sub in category.subcategories %}
                    <li><a href="#{{sub.name}}">{{sub.name}}</a></li>
                {% endfor %}
            {% endif %}
        {% endfor %}
    </ul>

    <p>See more widgets in the <a href="/docs/development/ui/widgets/catalog">widget catalog</a>.</p>

    <div class="card-deck card-deck--responsive">
        {% for comp in site.data.catalog.widgets %}
            {% if comp.categories contains include.category %}
                <div class="card">
                    <a href="{{comp.link}}">
                        <div class="card-image-holder">
                            {{comp.image}}
                        </div>
                    </a>
                    <div class="card-body">
                        <a href="{{comp.link}}"><header class="card-title">{{comp.name}}</header></a>
                        <p class="card-text">{{ comp.description | truncatewords: 25 }}</p>
                    </div>
                </div>
            {% endif %}
        {% endfor %}
    </div>

    {% for category in site.data.catalog.index %}
        {% if category.name == include.category %}
            {% for sub in category.subcategories %}
                <h2 id="{{sub.name}}">{{sub.name}}</h2>
                <div class="card-deck card-deck--responsive">
                    {% for comp in site.data.catalog.widgets %}
                        {% if comp.subcategories contains sub.name %}
                            <div class="card">
                                <a href="{{comp.link}}">
                                    <div class="card-image-holder">
                                        {{comp.image}}
                                    </div>
                                </a>
                                <div class="card-body">
                                    <a href="{{comp.link}}"><header class="card-title">{{comp.name}}</header></a>
                                    <p class="card-text">{{ comp.description | truncatewords: 25 }}</p>
                                </div>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
            {% endfor %}
        {% endif %}
    {% endfor %}

    <p>See more widgets in the <a href="/docs/development/ui/widgets/catalog">widget catalog</a>.</p>
</div>
